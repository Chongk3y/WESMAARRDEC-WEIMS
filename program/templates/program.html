{% extends 'base.html' %}
{% load static %}
{% block content %}
<div class="container mt-5">
    <div class="URL">
        <a href="{% url 'community' %}">BACK TO FORUM</a>
        <hr class="custom-hr">
    </div>
    <div class="title text-center">
        <h1>Programs</h1>
        <hr class="custom-hr">
    </div>
    <div class="container d-flex flex-column align-items-center">
        <ul class="event-list w-75">
            {% for program in page_obj %}
                <li class="mb-4 w-100">
                    <div class="card h-100 w-100">
                        <div class="card-body">
                            <a href="{% url 'program_details' prog_id=program.prog_id %}">
                                <h2 class="card-title">{{ program.title }}</h2>
                                <p class="card-text">{{ program.prog_description}}</p>
                            </a>
                            <p class="card-footer">Posted on {{ program.created_at }} by {{ program.created_by }}</p>
                        </div>
                    </div>
                </li>
            {% empty %}
                <li>No posts available.</li>
            {% endfor %}
        </ul>
    </div>
    <div class="pagination-wrapper">
        <nav aria-label="Page navigation">
            <ul class="pagination justify-content-center">
                {% if page_obj.has_previous %}
                <li class="page-item">
                    <a class="page-link" href="?page={{ page_obj.previous_page_number }}" aria-label="Previous">
                        <span aria-hidden="true">&laquo;</span>
                        <span class="sr-only">Previous</span>
                    </a>
                </li>
                {% endif %}
                {% for num in page_obj.paginator.page_range %}
                <li class="page-item {% if num == page_obj.number %}active{% endif %}">
                    <a class="page-link" href="?page={{ num }}">{{ num }}</a>
                </li>
                {% endfor %}
                {% if page_obj.has_next %}
                <li class="page-item">
                    <a class="page-link" href="?page={{ page_obj.next_page_number }}" aria-label="Next">
                        <span aria-hidden="true">&raquo;</span>
                        <span class="sr-only">Next</span>
                    </a>
                </li>
                {% endif %}
            </ul>
        </nav>
    </div>
</div>

<style>
    .event-list {
        list-style: none;
        padding: 0;
        margin: 0;
    }

    .event-list li {
        background-color: #f7f7f7;
        border: 1px solid #ddd;
    }

    .card {
        display: flex;
        flex-direction: column;
        width: 100%;
    }

    .card-footer {
        margin-top: auto;
        font-size: 0.9rem;
        color: #555;
    }

    .title {
        text-align: center;
    }

    .URL {
        text-align: left;
    }

    .URL a {
        text-align: left;
        font-size: 1.2rem;
        font-weight: 500;
        color: #66b365;
        text-decoration: underline;
        text-decoration-color: currentColor;
    }

    .pagination .page-link {
        color: #66b365; /* Change the color of pagination links to #66b365 */
    }
    .pagination .page-item.active .page-link {
        background-color: #66b365; /* Change the background color of active pagination link to #66b365 */
        border-color: #66b365; /* Change the border color of active pagination link to #66b365 */
        color: white; /* Change the text color of active pagination link to white */
    }
    .custom-hr{
        border: 1px solid #43b14b
    }
    .title h1{
        color:#43b14b;
        font-size: 4rem;
    }
    .card-body a{
        color:#43b14b;
        text-decoration: none;
    }
    .card-body p{
        color:black;
        text-decoration: none;
    }
</style>
{% endblock %}
